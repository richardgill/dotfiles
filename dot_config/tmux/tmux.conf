set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'catppuccin/tmux'

# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1

# Set the delay between prefix and command
set -s escape-time 1

set-option -g history-limit 50000
set-option -g display-time 4000
set-option -g status-interval 5
set-option -g focus-events on
# Reindexes windows when one is deleted
set-option -g renumber-windows on

# https://www.reddit.com/r/neovim/comments/11usepy/comment/jcpp596
set -g default-terminal 'tmux-256color'
set -ag terminal-overrides ",$TERM:Tc"

set-option -g prefix ยง
bind-key ยง send-prefix
# unbind the default prefix of C-b
unbind-key C-b


# Reload this config file with prefix r
bind r source-file ~/.config/tmux/tmux.conf\; display "Reloaded!"

# prefix + s to toggle the status bar
bind-key s set status

# open things in the current directory
bind c new-window -c "#{pane_current_path}"
bind '\' split-window -h -c '#{pane_current_path}'
bind - split-window -v -c '#{pane_current_path}'
unbind '"'
unbind %

# 'Only' - Close all but the current pane
bind o kill-pane -a

# Rebind x to kill pane without asking for confirmation
bind-key x kill-pane

# Move between panes with vim keys
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Resize panes using vim style keys
bind -r H resize-pane -L 1
bind -r J resize-pane -D 1
bind -r K resize-pane -U 1
bind -r L resize-pane -R 1

# Move current window right and left in the ordering
bind-key -r [ swap-window -t -1\; select-window -t -1
bind-key -r ] swap-window -t +1\; select-window -t +1

# Switch off mouse support
set -g mouse off

# -r allows repeated tapping tab to cycle windows
bind -r Tab next-window

set -g pane-active-border-style bg=default,fg=#333333
set -g pane-border-style bg=default,fg=#333333

# Map Home and End (which are triggered by cmd + left and cmd + right) to the correct codes.
# Explanation https://stackoverflow.com/a/55616731
bind-key -n Home send Escape "OH"
bind-key -n End send Escape "OF"

set -g mouse on

set -g status off

run '/opt/homebrew/opt/tpm/share/tpm/tpm'

